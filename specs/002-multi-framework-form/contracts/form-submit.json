{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Form Submit Event",
  "description": "Standard form submission tracking event for Google Tag Manager dataLayer",
  "type": "object",
  "required": [
    "event",
    "form_type",
    "form_id",
    "form_name",
    "submitted_at",
    "cuft_tracked",
    "cuft_source"
  ],
  "properties": {
    "event": {
      "type": "string",
      "const": "form_submit",
      "description": "Event name for GTM trigger"
    },
    "form_type": {
      "type": "string",
      "enum": ["elementor", "cf7", "ninja", "gravity", "avada"],
      "description": "Framework identifier"
    },
    "form_id": {
      "type": "string",
      "minLength": 1,
      "description": "Unique identifier for the form"
    },
    "form_name": {
      "type": "string",
      "minLength": 1,
      "description": "Human-readable form name"
    },
    "submitted_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of submission"
    },
    "cuft_tracked": {
      "type": "boolean",
      "const": true,
      "description": "Constitutional compliance marker"
    },
    "cuft_source": {
      "type": "string",
      "enum": [
        "elementor_pro",
        "contact_form_7",
        "ninja_forms",
        "gravity_forms",
        "avada_forms"
      ],
      "description": "Framework source identifier"
    },
    "user_email": {
      "type": "string",
      "format": "email",
      "description": "User-provided email address (optional)"
    },
    "user_phone": {
      "type": "string",
      "minLength": 1,
      "description": "User-provided phone number (optional)"
    },
    "utm_source": {
      "type": "string",
      "description": "UTM source parameter"
    },
    "utm_medium": {
      "type": "string",
      "description": "UTM medium parameter"
    },
    "utm_campaign": {
      "type": "string",
      "description": "UTM campaign parameter"
    },
    "utm_term": {
      "type": "string",
      "description": "UTM term parameter"
    },
    "utm_content": {
      "type": "string",
      "description": "UTM content parameter"
    },
    "click_id": {
      "type": "string",
      "description": "Generic click identifier"
    },
    "gclid": {
      "type": "string",
      "description": "Google Ads click identifier"
    },
    "gbraid": {
      "type": "string",
      "description": "Google iOS click identifier"
    },
    "wbraid": {
      "type": "string",
      "description": "Google Web-to-App click identifier"
    },
    "fbclid": {
      "type": "string",
      "description": "Facebook click identifier"
    },
    "msclkid": {
      "type": "string",
      "description": "Microsoft Ads click identifier"
    },
    "ttclid": {
      "type": "string",
      "description": "TikTok click identifier"
    },
    "li_fat_id": {
      "type": "string",
      "description": "LinkedIn click identifier"
    },
    "twclid": {
      "type": "string",
      "description": "Twitter/X click identifier"
    },
    "snap_click_id": {
      "type": "string",
      "description": "Snapchat click identifier"
    },
    "pclid": {
      "type": "string",
      "description": "Pinterest click identifier"
    },
    "page_location": {
      "type": "string",
      "format": "uri",
      "description": "Current page URL"
    },
    "page_referrer": {
      "type": "string",
      "format": "uri",
      "description": "Referrer URL"
    },
    "page_title": {
      "type": "string",
      "description": "Page title"
    },
    "language": {
      "type": "string",
      "description": "Browser language code"
    },
    "screen_resolution": {
      "type": "string",
      "pattern": "^\\d+x\\d+$",
      "description": "Screen resolution (e.g., 1920x1080)"
    },
    "engagement_time_msec": {
      "type": "number",
      "minimum": 0,
      "description": "Time spent on page in milliseconds"
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "event": "form_submit",
      "form_type": "elementor",
      "form_id": "elementor-widget-7a2c4f9",
      "form_name": "Contact Form",
      "user_email": "user@example.com",
      "user_phone": "+1-555-0123",
      "submitted_at": "2025-01-01T12:00:00.000Z",
      "cuft_tracked": true,
      "cuft_source": "elementor_pro",
      "utm_source": "google",
      "utm_medium": "cpc",
      "utm_campaign": "summer_sale",
      "gclid": "abc123xyz",
      "page_location": "https://example.com/contact",
      "page_title": "Contact Us"
    }
  ]
}